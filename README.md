# Polymarket 实时胜率展示看板

一个用于实时展示 Polymarket 事件胜率概率的可视化看板工具，支持多事件同时监控、自定义样式配置和自动数据刷新。[在线使用](https://wandsgyu.github.io/polymarket-odds-visualizer/index.html)

![看板预览图](https://i.mji.rip/2025/11/12/b8a581c60328f586897e06478ade4658.png)



## 📑 目录

- [如何获取 Token ID](#-如何获取-token-id)
  - [步骤一：访问 Polymarket 事件页面](#步骤一访问-polymarket-事件页面)
  - [步骤二：打开浏览器开发者工具](#步骤二打开浏览器开发者工具)
  - [步骤三：刷新页面并查找请求](#步骤三刷新页面并查找请求)
  - [步骤四：查看响应数据](#步骤四查看响应数据)
  - [步骤五：匹配事件与 Token ID](#步骤五匹配事件与-token-id)
- [快速开始](#-快速开始)
- [功能说明](#-功能说明)
  - [核心功能](#核心功能)
  - [配置功能](#配置功能)
  - [数据展示](#数据展示)
- [配置指南](#️-配置指南)
  - [基础设置](#基础设置)
    - [标题文本](#标题文本)
    - [请求频率](#请求频率)
    - [事件结果总数](#事件结果总数)
    - [字号设置](#字号设置)
  - [事件配置](#事件配置)
    - [Token ID 设置](#token-id-设置)
    - [事件名称](#事件名称)
    - [事件颜色](#事件颜色)
  - [配置管理](#配置管理)
    - [导出配置](#导出配置)
    - [导入配置](#导入配置)
- [使用示例](#-使用示例)
  - [示例 1：监控美联储利率决策](#示例-1监控美联储利率决策)
  - [示例 2：自定义样式](#示例-2自定义样式)
- [常见问题](#-常见问题)

---

## 🔑 如何获取 Token ID

在使用本工具之前，您需要从 Polymarket 网站获取对应事件的 Token ID。以下是详细步骤：

![获取 Token ID 步骤示意图](https://i.mji.rip/2025/11/12/05b2c434629b1cfd798f970eabdd6c53.jpeg)

### 步骤一：访问 Polymarket 事件页面

打开您要监控的 Polymarket 事件页面，例如：

```
https://polymarket.com/event/fed-decision-in-december?tid=1762913806743
```

> **提示**：您可以在 Polymarket 网站上搜索感兴趣的事件，然后复制事件页面的 URL。

### 步骤二：打开浏览器开发者工具

1. 在页面上**右键点击**，选择**"检查"**（或按 `F12` 键）
2. 切换到**"网络"（Network）**标签页

> **提示**：不同浏览器的开发者工具快捷键可能不同，Chrome/Edge 使用 `F12`，Firefox 使用 `F12` 或 `Ctrl+Shift+I`。

### 步骤三：刷新页面并查找请求

1. **刷新网页**（按 `F5` 或 `Ctrl+R`）
2. 在网络请求列表中，使用搜索框输入 **"last"** 进行筛选
3. 找到名为 **"last-trades-prices"** 的请求

> **提示**：如果找不到该请求，请确保网络标签页已打开，并且已刷新页面。该请求通常在页面加载时自动发送。

### 步骤四：查看响应数据

1. 点击 **"last-trades-prices"** 请求
2. 切换到 **"响应"（Response）** 标签页
3. 您将看到类似以下格式的 JSON 数据：

```json
{
    "price": "0.005",
    "side": "SELL",
    "token_id": "111653286751222233434552489231342053782305860121514128195211070982702807638967"
}
```

> **提示**：响应数据可能包含多个对象，每个对象对应一个事件选项。您需要找到所有相关的 Token ID。

### 步骤五：匹配事件与 Token ID

- **`price`** 字段表示该事件发生的概率（例如 `0.005` 表示 0.5%）
- **`token_id`** 字段就是您需要的 Token ID
- 您需要根据页面上的事件名称和对应的概率值，将 Token ID 与正确的事件进行匹配

**匹配示例：**

- 如果页面显示 "25 bps decrease" 的概率为 72%，那么概率接近 `0.72` 的 Token ID 就对应 "25 bps decrease" 事件
- 将匹配到的 Token ID 复制下来，用于后续配置

> **提示**：建议在匹配时，将 Polymarket 页面上的概率值与响应中的 `price` 字段进行对比，选择最接近的值进行匹配。

---

## 🚀 快速开始

### 第一步：打开应用

1. 下载或克隆本项目到本地
2. 直接在浏览器中打开 `index.html` 文件
   - 双击文件即可在默认浏览器中打开
   - 或右键选择"打开方式" → 选择浏览器

> **提示**：建议使用现代浏览器（Chrome、Firefox、Edge 等）以获得最佳体验。

### 第二步：配置事件

1. 点击页面右上角的 **"配置"** 按钮（齿轮图标）
2. 在配置弹窗中，按照以下顺序进行设置：
   - **基础设置**：设置标题、刷新频率、事件数量、字号等
   - **事件配置**：为每个事件设置 Token ID、名称和颜色

> **提示**：如果您还没有获取 Token ID，请先参考 [如何获取 Token ID](#-如何获取-token-id) 部分。

### 第三步：开始监控

1. 配置完成后，点击 **"保存并应用"** 按钮
2. 看板将自动开始刷新并显示实时概率数据
3. 您可以在页面上看到每个事件的实时概率百分比

> **提示**：如果概率显示为 0% 或没有数据，请检查 Token ID 是否正确，并查看浏览器控制台是否有错误信息。

---

## ✨ 功能说明

### 核心功能

- **实时数据监控**：自动从 Polymarket API 获取最新概率数据
- **多事件展示**：支持同时监控最多 10 个事件（包含"其他"选项）
- **自动刷新**：可自定义刷新频率（0.5-60 秒）
- **可视化展示**：大屏友好的概率显示，支持自定义颜色和字号

### 配置功能

- **标题自定义**：可修改页面标题文本，适应不同场景需求
- **字号调整**：独立设置概率字号（20-200px）和事件名称字号（12-100px）
- **颜色主题**：为每个事件配置专属颜色（10 种预设 + 自定义）
- **配置管理**：支持配置的导入/导出，方便备份和分享

### 数据展示

- **概率显示**：实时显示每个事件的胜率百分比，精确到小数点后两位
- **价格变化提示**：当概率发生变化时显示提示动画，便于快速识别变化
- **响应式布局**：自动适配不同屏幕尺寸，支持桌面端和大屏显示

---

## ⚙️ 配置指南

### 基础设置

#### 标题文本

- **功能**：自定义页面顶部显示的标题
- **示例**：`polymarket实时胜率展示`、`Fed decision in March?`
- **使用场景**：根据监控的事件类型设置相应的标题

#### 请求频率

- **功能**：设置数据刷新的间隔时间（单位：秒）
- **范围**：0.5 - 60 秒
- **建议**：2-5 秒

#### 事件结果总数

- **功能**：设置要监控的事件数量（包含"其他"选项）
- **范围**：1 - 10 个事件
- **说明**：修改后会自动更新事件配置列表，您需要为每个事件配置相应的参数

#### 字号设置

- **概率字号**：显示概率数字的大小（20-200px）
- **事件名称字号**：显示事件名称的大小（12-100px）

### 事件配置

#### Token ID 设置

- **其他**：选择此项表示该事件为"其他"选项（用于计算剩余概率）
  - 当选择"其他"时，无需输入 Token ID，系统会自动计算剩余概率
- **自定义**：输入从 Polymarket 获取的 Token ID
  - Token ID 是一个长数字字符串，请确保完整复制

#### 事件名称

- **功能**：为该事件设置显示名称
- **示例**：`Team A`、`25 bps decrease`、`No change` 等

#### 事件颜色

- **预设颜色**：点击 10 种预设颜色快速选择
  - 预设颜色经过精心搭配，适合大多数场景
- **自定义颜色**：
  - 使用颜色选择器（color picker）选择颜色
  - 或直接输入十六进制颜色值（格式：`#RRGGBB`，如 `#2EA8FF`）
  - 建议选择对比度较高的颜色

### 配置管理

#### 导出配置

- **操作**：点击 **"导出配置"** 按钮
- **功能**：将当前所有配置保存为 JSON 文件
- **用途**：
  - 备份当前配置，防止丢失
  - 在不同设备间同步配置
  - 分享配置给其他用户

#### 导入配置

- **操作**：点击 **"导入配置"** 按钮
- **功能**：选择之前导出的 JSON 配置文件并应用
- **说明**：配置将自动应用并生效，页面会立即刷新显示新配置

> **提示**：导入配置会覆盖当前所有配置，请谨慎操作。建议在导入前先导出当前配置作为备份。

---

## 📝 使用示例

### 示例 1：监控美联储利率决策

**场景**：监控美联储在 12 月的利率决策结果

**步骤**：

1. **获取 Token ID**
   - 访问 Polymarket 的 "Fed decision in December" 事件页面
   - 按照 [如何获取 Token ID](#-如何获取-token-id) 的步骤，获取各个选项的 Token ID

2. **配置事件**
   - 事件结果总数：`4`
   - 事件 1：
     - Token ID：`[25 bps decrease 的 Token ID]`
     - 名称：`25 bps decrease`
     - 颜色：蓝色
   - 事件 2：
     - Token ID：`[No change 的 Token ID]`
     - 名称：`No change`
     - 颜色：灰色
   - 事件 3：
     - Token ID：`[50+ bps decrease 的 Token ID]`
     - 名称：`50+ bps decrease`
     - 颜色：绿色
   - 事件 4：
     - 选择"其他"
     - 名称：`其他`
     - 颜色：橙色

3. **保存并应用**
   - 点击"保存并应用"按钮
   - 看板将实时显示各选项的概率

### 示例 2：自定义样式

**场景**：为大屏展示优化样式配置

**步骤**：

1. **基础设置**
   - 标题：`美联储利率决策监控`
   - 请求频率：`3` 秒
   - 事件结果总数：根据实际需求设置

2. **字号设置**
   - 概率字号：`100px`（适合大屏显示）
   - 事件名称字号：`36px`（与概率字号保持合理比例）

3. **颜色配置**
   - 为每个事件选择不同的颜色以区分
   - 建议使用对比度高的颜色组合

4. **保存配置**
   - 保存后即可看到优化后的显示效果

---

## ❓ 常见问题

### Q: 为什么概率显示为 0%？

**可能原因及解决方法**：

- **Token ID 错误**：检查 Token ID 是否正确输入，确保没有多余的空格或字符
- **网络问题**：确认网络连接正常，检查是否能访问 Polymarket API
- **API 变更**：查看浏览器控制台是否有错误信息，可能是 API 地址或格式发生变化

> **排查步骤**：打开浏览器开发者工具（F12），查看"网络"标签页中的请求是否成功，以及"控制台"标签页是否有错误信息。

### Q: 如何知道哪个 Token ID 对应哪个事件？

**匹配方法**：

1. 在 Polymarket 页面上查看各事件的概率值
2. 在 `last-trades-prices` 响应中，通过 `price` 字段匹配概率值
3. 概率值最接近的事件就是对应的 Token ID

> **提示**：建议同时打开 Polymarket 页面和开发者工具，对比页面上的概率值与响应中的 `price` 字段，进行精确匹配。

### Q: 配置丢失了怎么办？

**解决方法**：

- **使用导出配置**：如果之前导出过配置，可以通过"导入配置"功能恢复
- **检查浏览器设置**：配置会自动保存到浏览器的 localStorage，清除浏览器数据会导致配置丢失
- **定期备份**：建议定期导出配置作为备份，避免意外丢失

> **预防措施**：建议在完成配置后立即导出配置文件，保存到安全的位置。

### Q: 可以同时监控多个不同的市场吗？

**说明**：

- 目前版本支持监控同一市场的多个选项
- 如需监控不同市场，可以打开多个浏览器标签页，分别配置不同的市场

> **建议**：每个标签页独立配置，互不干扰，这样可以同时监控多个市场。

### Q: 刷新频率设置多少合适？

**建议**：

- **推荐范围**：2-5 秒

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来帮助改进本项目。

## 📧 联系方式

如有问题或建议，请通过 GitHub Issues 联系我们。
